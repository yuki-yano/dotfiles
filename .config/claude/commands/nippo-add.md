---
description: Add work log entry to today's daily report
---

# 日報に作業記録を追加: $ARGUMENTS

## 引数（ARGUMENTS）

作業内容を自由形式で記録：

```bash
# 基本的な使い方
nippo-add バグ#123を修正完了
nippo-add PR #456 のレビュー実施
nippo-add 定例MTG: 進捗報告と課題共有

# 特殊キーワード付き
nippo-add 振り返り: async/awaitの理解が不足していた
nippo-add 明日: #789のレビュー対応、ドキュメント更新
nippo-add 学び: TypeScriptの型推論について新しい知見を得た
```

## 目標

作業中にリアルタイムで活動を記録し、後で日報作成時に記憶を辿る手間を削減する

## 実行手順

### 1. 日付とファイルパスの取得

```bash
# 現在の日付を取得
DATE=$(perl -MPOSIX -le 'print strftime("%Y-%m-%d", localtime)')
FILENAME="ai/log/nippo/${DATE}.md"

# ディレクトリの確認と作成
mkdir -p ai/log/nippo
```

### 2. 日報ファイルの存在確認

ファイルが存在しない場合は、以下のテンプレートで新規作成：

```markdown
# 日報: [日付]

## 📝 作業ログ

### [時刻] - 初回記録
[ARGUMENTS]

---

## 🎯 今日の目標
- [ ] （作業開始時に記入）

## 📊 進捗状況
（作業終了時に記入）

## 💡 学びと気づき
（随時追記）

## 🚀 明日への申し送り
（本日終了時に記入）

## 🔗 関連リンク
- PR/Issue: 
- ドキュメント: 
```

### 3. 既存ファイルへの追記

既存ファイルがある場合は、適切なセクションに追記：

#### 通常の作業記録（デフォルト）

「## 📝 作業ログ」セクションの最後に追記：

```markdown
### [時刻] - [要約（20文字以内）]
[ARGUMENTS]
```

#### 特殊キーワードによる振り分け

- **「振り返り:」「反省:」「学び:」を含む場合**
  → 「## 💡 学びと気づき」セクションに追記

- **「明日:」「次回:」「TODO:」を含む場合**
  → 「## 🚀 明日への申し送り」セクションに追記

- **「目標達成:」「完了:」を含む場合**
  → 「## 🎯 今日の目標」の該当項目にチェック

- **「PR」「Issue」「#」を含む場合**
  → 「## 🔗 関連リンク」にも追記

### 4. 追記完了の確認

```bash
# 追記が成功したことを確認
echo "================================================================================
日報に追記しました: $FILENAME
================================================================================

【追記内容】
時刻: $(date "+%H:%M")
内容: $ARGUMENTS

現在の日報を確認: nippo-show
日報を完成させる: nippo-finalize"
```

## 記録のコツ

### 1. Issue/PR番号を含める

```bash
nippo-add #123 のバグ修正完了。原因はnullチェック漏れ
nippo-add PR #456 レビュー。セキュリティ面の指摘を追加
```

### 2. 感情や気づきも記録

```bash
nippo-add やっと解決！3時間悩んだけどスッキリ
nippo-add 振り返り: テストファーストで進めるべきだった
```

### 3. ミーティング要点も即座に

```bash
nippo-add 定例MTG: スプリント目標を80%達成。残りは来週持ち越し
nippo-add 1on1: キャリアパスについて相談。フロントエンド強化を推奨された
```

### 4. 小さな改善も記録

```bash
nippo-add VS Code拡張追加: Error Lens。エラーが見やすくなった
nippo-add 環境改善: Node.js v20にアップデート。ビルド時間30%短縮
```

## エラーハンドリング

1. **引数が空の場合**
   - エラーメッセージを表示
   - 使用例を提示

2. **ファイル書き込みエラー**
   - 権限を確認
   - ディレクトリ作成を再試行

3. **日付取得エラー**
   - システム時刻の確認を促す

## 関連コマンド

- `nippo-show`: 今日の日報を表示
- `nippo-finalize`: 日報を整形・完成
- `save-session`: セッション全体の引き継ぎ情報を保存