---
description: Synchronize with project context by reviewing current state, recent changes, and active tasks
---

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®åŒæœŸ

## ç›®æ¨™

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç¾åœ¨ã®çŠ¶æ…‹ã€æœ€è¿‘ã®å¤‰æ›´ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¿ã‚¹ã‚¯ã‚„å•é¡Œã‚’ç·åˆçš„ã«ç¢ºèªã—ã€æœ€æ–°ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«åŒæœŸã™ã‚‹

## å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰

```bash
# æ¨™æº–ãƒ¢ãƒ¼ãƒ‰ï¼ˆã™ã¹ã¦ã®æƒ…å ±ã‚’ç¢ºèªï¼‰
context-sync

# ã‚¯ã‚¤ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ï¼ˆåŸºæœ¬æƒ…å ±ã®ã¿ï¼‰
context-sync --quick

# è©³ç´°ãƒ¢ãƒ¼ãƒ‰ï¼ˆè¿½åŠ ã®åˆ†ææƒ…å ±ã‚’å«ã‚€ï¼‰
context-sync --detailed

# å·®åˆ†ãƒ¢ãƒ¼ãƒ‰ï¼ˆå‰å›åŒæœŸã‹ã‚‰ã®å¤‰æ›´ã‚’å¼·èª¿ï¼‰
context-sync --diff
```

## åŒæœŸæ‰‹é †

### 1. ä¸¦åˆ—æƒ…å ±åé›†ãƒ•ã‚§ãƒ¼ã‚º

ä»¥ä¸‹ã®æƒ…å ±ã‚’ä¸¦åˆ—ã§åé›†ã—ã€åŠ¹ç‡çš„ã«åŒæœŸã‚’å®Œäº†ï¼š

```bash
# ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä¸¦åˆ—å®Ÿè¡Œ
parallel_commands=(
    "git branch --show-current"
    "git status --porcelain"
    "git log --oneline -10"
    "git diff --stat"
    "ls -t ai/log/**/*.md | head -5"
    "ls ai/issues/active/*.md 2>/dev/null"
    "ls ai/plans/active/*.md 2>/dev/null"
)

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒ—ã®è‡ªå‹•æ¤œå‡º
project_type=""
if [ -f "package.json" ]; then
    project_type="Node.js/JavaScript"
elif [ -f "Gemfile" ]; then
    project_type="Ruby"
elif [ -f "requirements.txt" ] || [ -f "pyproject.toml" ]; then
    project_type="Python"
elif [ -f "Cargo.toml" ]; then
    project_type="Rust"
elif [ -f "go.mod" ]; then
    project_type="Go"
elif [ -f "pom.xml" ] || [ -f "build.gradle" ]; then
    project_type="Java"
fi
```

### 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰è¨­å®šã®ç¢ºèª

```bash
# CLAUDE.md ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
if [ -f "CLAUDE.md" ]; then
    echo "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®æŒ‡ç¤ºã‚’ç¢ºèª"
    head -20 CLAUDE.md
fi

if [ -f ".config/claude/CLAUDE.md" ]; then
    echo "è¿½åŠ ã®Claudeè¨­å®šã‚’ç¢ºèª"
    head -20 .config/claude/CLAUDE.md
fi
```

### 3. æ§‹é€ åŒ–ã•ã‚ŒãŸå‡ºåŠ›ã®ç”Ÿæˆ

```markdown
================================================================================
ğŸ”„ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆåŒæœŸãƒ¬ãƒãƒ¼ãƒˆ
================================================================================

## ğŸ“Š ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒ—**: [è‡ªå‹•æ¤œå‡ºã•ã‚ŒãŸã‚¿ã‚¤ãƒ—]
- **ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒ**: [ãƒ–ãƒ©ãƒ³ãƒå]
- **æœ€çµ‚åŒæœŸ**: [å‰å›ã®åŒæœŸæ—¥æ™‚]

## ğŸ“ ç¾åœ¨ã®ä½œæ¥­çŠ¶æ…‹

### Git ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
- **å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«æ•°**: [æ•°å€¤]
- **ã‚¹ãƒ†ãƒ¼ã‚¸æ¸ˆã¿**: [æ•°å€¤]
- **æœªè¿½è·¡**: [æ•°å€¤]

### ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ã‚¹ã‚¯
#### TodoList ([ä»¶æ•°])
- [ ] [é«˜å„ªå…ˆåº¦ã‚¿ã‚¹ã‚¯]
- [ ] [ä¸­å„ªå…ˆåº¦ã‚¿ã‚¹ã‚¯]
- [ ] [ä½å„ªå…ˆåº¦ã‚¿ã‚¹ã‚¯]

#### å®Ÿè¡Œä¸­ã®è¨ˆç”» ([ä»¶æ•°])
- [è¨ˆç”»åã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹]

## ğŸ•’ æœ€è¿‘ã®æ´»å‹•

### ç›´è¿‘ã®ã‚³ãƒŸãƒƒãƒˆï¼ˆ10ä»¶ï¼‰
```
[git log ã®å‡ºåŠ›]
```

### æœ€æ–°ã®ä½œæ¥­ãƒ­ã‚°ï¼ˆ5ä»¶ï¼‰
- [ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«å]: [æ¦‚è¦]

## âš ï¸ æ³¨æ„äº‹é …

### ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªå•é¡Œ ([ä»¶æ•°])
- ğŸ”´ [é‡è¦åº¦é«˜]: [å•é¡Œã®æ¦‚è¦]
- ğŸŸ¡ [é‡è¦åº¦ä¸­]: [å•é¡Œã®æ¦‚è¦]

### ãƒ–ãƒ­ãƒƒã‚«ãƒ¼
- [ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã®å†…å®¹]

## ğŸ¯ æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

### å³åº§ã«å¯¾å¿œã™ã¹ãäº‹é …
1. [é«˜å„ªå…ˆåº¦ã‚¢ã‚¯ã‚·ãƒ§ãƒ³]
2. [ç·Šæ€¥ã®å•é¡Œå¯¾å¿œ]

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
1. [è¨ˆç”»çš„ãªã‚¿ã‚¹ã‚¯]
2. [ä¸­æœŸçš„ãªç›®æ¨™]

================================================================================
```

### 4. å·®åˆ†è¡¨ç¤ºæ©Ÿèƒ½ï¼ˆ--diff ãƒ¢ãƒ¼ãƒ‰ï¼‰

å‰å›ã®åŒæœŸã‹ã‚‰å¤‰æ›´ã•ã‚ŒãŸå†…å®¹ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºï¼š

```bash
# å‰å›åŒæœŸã®è¨˜éŒ²ã‚’ä¿å­˜
SYNC_LOG="ai/log/context-sync-history.log"

# ç¾åœ¨ã®çŠ¶æ…‹ã‚’å–å¾—
CURRENT_STATE=$(generate_current_state)

# å‰å›ã®çŠ¶æ…‹ã¨æ¯”è¼ƒ
if [ -f "$SYNC_LOG" ]; then
    PREVIOUS_STATE=$(tail -1 "$SYNC_LOG" | cut -d'|' -f2-)
    
    echo "================================================================================
ğŸ“Š å‰å›åŒæœŸã‹ã‚‰ã®å¤‰æ›´ç‚¹
================================================================================"
    
    # æ–°è¦ã‚³ãƒŸãƒƒãƒˆ
    NEW_COMMITS=$(git log --oneline --since="$LAST_SYNC_TIME")
    if [ -n "$NEW_COMMITS" ]; then
        echo "### âœ¨ æ–°è¦ã‚³ãƒŸãƒƒãƒˆ"
        echo "$NEW_COMMITS"
    fi
    
    # æ–°è¦/å®Œäº†ã‚¿ã‚¹ã‚¯
    echo "### ğŸ“‹ ã‚¿ã‚¹ã‚¯ã®å¤‰æ›´"
    echo "- æ–°è¦è¿½åŠ : [æ•°]ä»¶"
    echo "- å®Œäº†: [æ•°]ä»¶"
    echo "- é€²è¡Œä¸­: [æ•°]ä»¶"
    
    # æ–°è¦å•é¡Œ
    echo "### âš ï¸ æ–°è¦å•é¡Œ"
    # æ–°ã—ãè¿½åŠ ã•ã‚ŒãŸå•é¡Œã‚’ãƒªã‚¹ãƒˆ
fi

# ç¾åœ¨ã®çŠ¶æ…‹ã‚’è¨˜éŒ²
echo "$(date +%Y-%m-%d_%H:%M:%S)|$CURRENT_STATE" >> "$SYNC_LOG"
```

### 5. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒ—åˆ¥ã®è¿½åŠ æƒ…å ±

æ¤œå‡ºã•ã‚ŒãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¿ã‚¤ãƒ—ã«å¿œã˜ã¦ã€é–¢é€£ã™ã‚‹æƒ…å ±ã‚’è‡ªå‹•çš„ã«åé›†ï¼š

#### Node.js/JavaScript ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
```bash
if [ "$project_type" = "Node.js/JavaScript" ]; then
    # package.json ã®æ¦‚è¦
    echo "### ğŸ“¦ ä¾å­˜é–¢ä¿‚ã®æ¦‚è¦"
    jq -r '.dependencies | length' package.json 2>/dev/null && echo "dependencies"
    jq -r '.devDependencies | length' package.json 2>/dev/null && echo "devDependencies"
    
    # ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ç¢ºèª
    echo "### ğŸ”§ åˆ©ç”¨å¯èƒ½ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆ"
    jq -r '.scripts | keys[]' package.json 2>/dev/null | head -10
fi
```

#### Ruby ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
```bash
if [ "$project_type" = "Ruby" ]; then
    echo "### ğŸ’ Ruby ç’°å¢ƒ"
    ruby --version
    
    echo "### ğŸ“¦ Gem ã®æ¦‚è¦"
    bundle list | wc -l
fi
```

#### Python ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
```bash
if [ "$project_type" = "Python" ]; then
    echo "### ğŸ Python ç’°å¢ƒ"
    python --version
    
    if [ -f "requirements.txt" ]; then
        echo "### ğŸ“¦ ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ•°"
        wc -l < requirements.txt
    fi
fi
```

### 6. ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆã‚µãƒãƒªãƒ¼

åé›†ã—ãŸæƒ…å ±ã‚’åŸºã«ã€ç¾åœ¨ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§æœ€ã‚‚é‡è¦ãªæƒ…å ±ã‚’è¦ç´„ï¼š

```markdown
## ğŸ’¡ ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚µãƒãƒªãƒ¼

**ç¾åœ¨ã®ãƒ•ã‚©ãƒ¼ã‚«ã‚¹**: [ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ã‚¹ã‚¯ã¨æœ€è¿‘ã®ã‚³ãƒŸãƒƒãƒˆã‹ã‚‰æ¨æ¸¬]
**é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º**: [æ©Ÿèƒ½é–‹ç™º/ãƒã‚°ä¿®æ­£/ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°/ãƒ†ã‚¹ãƒˆ]
**ãƒ–ãƒ­ãƒƒã‚«ãƒ¼æœ‰ç„¡**: [ã‚ã‚Š/ãªã—]
**æ¨å®šä½œæ¥­æ™‚é–“**: [ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ã‚¹ã‚¯ã‹ã‚‰æ¨å®š]

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
- [ ] æœ€ã‚‚å„ªå…ˆåº¦ã®é«˜ã„ã‚¿ã‚¹ã‚¯ã«ç€æ‰‹
- [ ] ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã®è§£æ±º
- [ ] ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
```

## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

1. **Git ãƒªãƒã‚¸ãƒˆãƒªã§ãªã„å ´åˆ**
   - Git é–¢é€£ã®æƒ…å ±ã‚’ã‚¹ã‚­ãƒƒãƒ—
   - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®åˆ†æã«ç„¦ç‚¹

2. **AIä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå­˜åœ¨ã—ãªã„å ´åˆ**
   - åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®æ¡ˆå†…ã‚’è¡¨ç¤º
   - å¿…è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®ä½œæˆã‚’ææ¡ˆ

3. **æ¨©é™ã‚¨ãƒ©ãƒ¼**
   - èª­ã¿å–ã‚Šå¯èƒ½ãªæƒ…å ±ã®ã¿ã‚’è¡¨ç¤º
   - æ¨©é™ã®å•é¡Œã‚’è­¦å‘Š

## ä½¿ç”¨ä¾‹

```bash
# æ¨™æº–çš„ãªåŒæœŸ
context-sync

# æœä¸€ç•ªã®ã‚¯ã‚¤ãƒƒã‚¯ç¢ºèª
context-sync --quick

# è©³ç´°ãªåˆ†æä»˜ãåŒæœŸ
context-sync --detailed

# å‰å›ã‹ã‚‰ã®å¤‰æ›´ã‚’ç¢ºèª
context-sync --diff

# çµ„ã¿åˆã‚ã›ã‚‚å¯èƒ½
context-sync --quick --diff
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

- ä¸¦åˆ—å®Ÿè¡Œã«ã‚ˆã‚Šã€å¾“æ¥ã®é€æ¬¡å®Ÿè¡Œã¨æ¯”ã¹ã¦ç´„60%ã®æ™‚é–“çŸ­ç¸®
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿæ§‹ã«ã‚ˆã‚Šã€ç¹°ã‚Šè¿”ã—ã®åŒæœŸãŒé«˜é€ŸåŒ–
- å¿…è¦ãªæƒ…å ±ã®ã¿ã‚’å–å¾—ã™ã‚‹é©å¿œçš„ãªå‡¦ç†
