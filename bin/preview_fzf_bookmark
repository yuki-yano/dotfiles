#!/usr/bin/env ruby
# frozen_string_literal: true

file, line_num = ARGV[0].split(':')
target = ARGV[0].split(':')[2..-1].join(':')

start = [line_num.to_i - 10, 1].max
last = line_num.to_i + 100
result = `ccat --color=always #{file} | gsed -n #{start},#{last}p`

result.split("\n").each.with_index do |line, _index|
  puts line
end
